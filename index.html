<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>玲珑下账号码表</title>
    <style>
        :root {
            --primary-color: #007BFF;
            --bg-color: #f9f9f9;
            --table-bg: #fff;
            --table-border: #ccc;
            --header-bg: #f2f2f2;
            --spacing-sm: 3px;
            --spacing-md: 8px;
            --spacing-lg: 20px;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 0;
        }

        h1 {
            text-align: center;
            padding: var(--spacing-lg) 0;
            margin: 0;
        }

        table {
            width: 90%;
            max-width: 800px;
            margin: var(--spacing-lg) auto;
            border-collapse: separate;
            border-spacing: 1px;
            background-color: var(--table-bg);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        th, td {
            border: 1px solid var(--table-border);
            padding: var(--spacing-sm) var(--spacing-md);
            text-align: center;
        }

        th {
            background-color: var(--header-bg);
            font-weight: 600;
        }

        td[id^='phone-'] {
            cursor: pointer;
        }

        td[id^='phone-']:hover {
            color: var(--primary-color);
        }

       .copy-text {
            color: var(--primary-color);
            cursor: pointer;
            margin-left: var(--spacing-sm);
            font-size: 0.9em;
        }

        /* 复制成功提示框样式 */
       .copy-success-tooltip {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: var(--primary-color);
            color: white;
            padding: 15px 30px;
            border-radius: 5px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            z-index: 999;
        }
    </style>
</head>

<body>
    <h1>玲珑下账号码表</h1>
    <table id="data-table">
        <thead>
            <tr>
                <th>姓名</th>
                <th>电话</th>
                <th>当月可使用次数</th>
            </tr>
        </thead>
        <tbody id="table-body">
            <!-- 数据将通过JS动态生成 -->
        </tbody>
    </table>

    <!-- 复制成功提示框 -->
    <div class="copy-success-tooltip" id="copy-success-tooltip">复制成功</div>

    <script>
        // 提取数据到数组，便于维护和扩展
        const phoneData = [
            { name: "曾里", phone: "13688746794", count: 3 },
            { name: "曾里", phone: "19184172418", count: 3 },
            { name: "陈永蕊", phone: "15187128702", count: 3 },
            { name: "段智锋", phone: "15508768432", count: 3 },
            { name: "高维健", phone: "18608769091", count: 3 },
            { name: "勾富珊", phone: "15126837116", count: 3 },
            { name: "何云师", phone: "18087632027", count: 3 },
            { name: "何云师", phone: "17869199919", count: 3 },
            { name: "何云师", phone: "19388419239", count: 3 },
            { name: "何云师", phone: "13887681430", count: 3 },
            { name: "侯锡磊", phone: "17787673268", count: 3 },
            { name: "侯锡婷", phone: "17787608845", count: 3 },
            { name: "侯锡圆", phone: "15288621388", count: 3 },
            { name: "黄鑫", phone: "18087625868", count: 3 },
            { name: "黄鑫", phone: "13108801036", count: 3 },
            { name: "黄鑫", phone: "13577607260", count: 3 },
            { name: "黄鑫", phone: "15126882338", count: 3 },
            { name: "黄鑫", phone: "13187611666", count: 3 },
            { name: "黄鑫", phone: "15126708891", count: 3 },
            { name: "黄鑫", phone: "13114171002", count: 3 },
            { name: "李桂丹", phone: "15012181584", count: 3 },
            { name: "李国贤", phone: "18187617945", count: 3 },
            { name: "廖帮梅", phone: "15126886324", count: 3 },
            { name: "廖诗勇", phone: "18887601748", count: 3 },
            { name: "聂秋", phone: "18206775128", count: 3 },
            { name: "钱飞", phone: "18593148408", count: 3 },
            { name: "钱正欢", phone: "15887201742", count: 3 },
            { name: "饶大勇", phone: "13208763998", count: 3 },
            { name: "饶志领", phone: "13887609799", count: 3 },
            { name: "饶志远", phone: "15126896787", count: 3 },
            { name: "任静", phone: "18187640275", count: 3 },
            { name: "宋明燕", phone: "15126980008", count: 3 },
            { name: "田正伟", phone: "18388639779", count: 3 },
            { name: "王代宇", phone: "18287656864", count: 3 },
            { name: "王宏宇", phone: "14787641107", count: 3 },
            { name: "王宏宇", phone: "19887688556", count: 3 },
            { name: "王宏宇", phone: "18468194228", count: 3 },
            { name: "王宏宇", phone: "15891913849", count: 3 },
            { name: "王宏宇", phone: "18468245591", count: 3 },
            { name: "徐邦巧", phone: "14769633881", count: 3 },
            { name: "徐邦巧", phone: "17874345250", count: 3 },
            { name: "徐伟", phone: "13658762005", count: 3 },
            { name: "游贵能", phone: "15750389692", count: 3 },
            { name: "于航", phone: "17608845360", count: 3 },
            { name: "余茂锦", phone: "15750390729", count: 3 },
            { name: "张超", phone: "18088465567", count: 3 },
            { name: "张弘", phone: "13114179631", count: 3 },
            { name: "赵祖蕊", phone: "13099690232", count: 3 },
            { name: "郑锐睿", phone: "15769870751", count: 3 },
            { name: "郑欣志", phone: "13708764471", count: 3 },
            { name: "郑馨", phone: "13887689696", count: 3 },
            { name: "周利梦", phone: "15906972030", count: 3 },
            { name: "周能颖", phone: "15187187187", count: 3 },
            { name: "杨琪凯", phone: "15912350531", count: 3 }
        ];

        // 动态生成表格行
        const tableBody = document.getElementById('table-body');
        phoneData.forEach((item, index) => {
            // 从localStorage恢复使用次数
            const savedCount = localStorage.getItem(`copyCount_${index}`);
            const count = savedCount? parseInt(savedCount) : item.count;

            const row = document.createElement('tr');
            row.id = `row-${index}`;
            row.innerHTML = `
                <td>${item.name}</td>
                <td class="tooltip" id="phone-${index}" data-copy-count="${count}">
                    <span>${item.phone}</span>
                    <span class="copy-text" onclick="copyNumber(this, ${index})">点击复制</span>
                </td>
                <td id="copy-count-${index}">${count}</td>
            `;
            tableBody.appendChild(row);

            // 如果次数为0，隐藏行
            if (count === 0) {
                row.style.display = 'none';
            }
        });

        async function copyNumber(element, index) {
            const row = document.getElementById(`row-${index}`);
            const phoneCell = row.querySelector(`[id^="phone-"]`);
            const copyCountCell = row.querySelector(`[id^="copy-count-"]`);
            let copyCount = parseInt(phoneCell.dataset.copyCount);

            if (copyCount > 0) {
                const phoneNumber = phoneCell.querySelector('span').textContent;
                try {
                    await navigator.clipboard.writeText(phoneNumber);
                    copyCount -= 1;
                    phoneCell.dataset.copyCount = copyCount;
                    copyCountCell.textContent = copyCount;

                    // 保存到localStorage，防止刷新丢失
                    localStorage.setItem(`copyCount_${index}`, copyCount);

                    if (copyCount === 0) {
                        row.style.display = 'none';
                    }

                    // 显示复制成功提示框
                    const tooltip = document.getElementById('copy-success-tooltip');
                    tooltip.style.visibility = 'visible';
                    tooltip.style.opacity = 1;
                    setTimeout(() => {
                        tooltip.style.visibility = 'hidden';
                        tooltip.style.opacity = 0;
                    }, 2000);
                } catch (err) {
                    console.error('复制失败: ', err);
                }
            }
        }
    </script>
</body>

</html>